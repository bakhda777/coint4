data_dir: "data_downloaded"
results_dir: "results"

# Data processing
data_processing:
  normalization_method: "minmax"
  fill_method: "linear"
  min_history_ratio: 0.8
  handle_constant: true

portfolio:
  initial_capital: 10000.0
  risk_per_position_pct: 0.015
  max_active_positions: 15
  max_margin_usage: 0.5
  volatility_based_sizing: true
  volatility_lookback_hours: 24
  min_position_size_pct: 0.005
  max_position_size_pct: 0.02
  volatility_adjustment_factor: 2.0

pair_selection:
  lookback_days: 60
  coint_pvalue_threshold: 0.9   # Very loose
  ssd_top_n: 1000
  min_half_life_days: 0.001     # Very loose
  max_half_life_days: 100       # Very loose
  min_mean_crossings: 0         # Very loose
  adaptive_quantiles: false
  bar_minutes: 15
  liquidity_usd_daily: 1000     # Very loose
  max_bid_ask_pct: 10.0         # Very loose
  max_avg_funding_pct: 10.0     # Very loose
  save_filter_reasons: true
  max_hurst_exponent: 1.0       # Very loose
  kpss_pvalue_threshold: 0.00001 # Very loose
  pvalue_top_n: 1000
  save_std_histogram: true
  enable_pair_tradeability_filter: false # Disable
  min_volume_usd_24h: 1000      # Very loose
  min_days_live: 1              # Very loose
  max_funding_rate_abs: 1.0     # Very loose
  max_tick_size_pct: 1.0        # Very loose
  max_half_life_hours: 24000.0  # Very loose

backtest:
  timeframe: "15min"
  rolling_window: 20
  zscore_threshold: 1.0
  zscore_entry_threshold: 1.0
  zscore_exit: 0.0
  stop_loss_multiplier: 3.0
  time_stop_multiplier: 2.0
  fill_limit_pct: 0.1
  commission_pct: 0.0004
  slippage_pct: 0.0005
  fee_maker: 0.0002
  fee_taker: 0.0004
  slippage_bps: 2.0
  half_spread_bps: 1.5
  slippage_stress_multiplier: 1.0
  always_model_slippage: true
  annualizing_factor: 365
  cooldown_hours: 0             # No cooldown
  wait_for_candle_close: true
  min_spread_move_sigma: 0.00001    # Disable
  min_position_hold_minutes: 0  # Disable
  anti_churn_cooldown_minutes: 0 # Disable
  flat_zscore_threshold: 0.0001
  pair_stop_loss_usd: 10000.0   # Disable effective
  pair_stop_loss_zscore: 100.0  # Disable effective
  portfolio_daily_stop_pct: 0.99 # Disable effective
  enable_funding_time_filter: false
  enable_macro_event_filter: false
  enable_pair_quarantine: false
  enable_realistic_costs: true
  commission_rate_per_leg: 0.0004
  slippage_half_spread_multiplier: 2.0
  funding_cost_enabled: true
  beta_recalc_frequency_hours: 48
  beta_window_days_min: 60
  beta_window_days_max: 120
  use_ols_beta_sizing: true
  market_regime_detection: false # Disable
  structural_break_protection: false # Disable
  regime_check_frequency: 192
  use_market_regime_cache: true
  adf_check_frequency: 5376
  cache_cleanup_frequency: 1000
  lazy_adf_threshold: 0.1
  hurst_neutral_band: 0.05
  vr_neutral_band: 0.2
  n_jobs: 1 # Single thread for debug
  use_exponential_weighted_correlation: true
  ew_correlation_alpha: 0.1
  use_kelly_sizing: false       # Disable complexity
  max_kelly_fraction: 0.25
  volatility_lookback: 96
  adaptive_thresholds: false    # Disable
  var_confidence: 0.05
  max_var_multiplier: 3.0

walk_forward:
  enabled: false
  start_date: "2024-01-15"
  end_date: "2024-01-22"        # Short period
  training_period_days: 20
  testing_period_days: 7
  step_size_days: 5
  max_steps: 1
  min_training_samples: 100
  refit_frequency: "weekly"

normalization:
  method: "log_returns"
  fit_on_training_only: true
  prevent_refit_on_test: true
  log_returns_base: "natural"

online_statistics:
  enabled: true
  volatility_method: "ewm"
  ewm_alpha: 0.05
  kelly_lookback_trades: 50
  adaptive_threshold_lookback: 96
  beta_recalc_online: true

signal_shift:
  enabled: true
  shift_periods: 1
  skip_last_bar: true
  signal_delay_minutes: 0

max_shards: null

filter_params:
  min_beta: 0.0
  max_beta: 1000.0
  min_half_life_days: 0.0
  max_half_life_days: 1000.0
  max_hurst_exponent: 1.0
  min_mean_crossings: 0

logging:
  trade_details: true
  debug_level: "DEBUG"
